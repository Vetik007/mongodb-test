// методи mongoose викидають помилки без статутсу. В зв'язку з цим обробник помилок HttpError перехопивши цю помилку обробляє її та викидує статус - 500, як зазначено у обробнику помилок у app.js. Для вирішення проблеми викидання невірного статутсу помилок створюємо міделвару

// міделвара яка оброблює статус помилки
const handleMongooseError = (error, data, next) => {
  error.status = 400;
  next();
};

module.exports = handleMongooseError;
